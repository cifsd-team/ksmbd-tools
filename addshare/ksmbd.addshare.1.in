.TH KSMBD.ADDSHARE "1" "" "ksmbd-tools @ksmbd_tools_version@" "User Commands"
.SH NAME
ksmbd.addshare \- configure shares for smb.conf of ksmbd.mountd
.SH SYNOPSIS
.B ksmbd.addshare
[-v] {-a \fI\,SHARE\/\fR | -u \fI\,SHARE\/\fR} [-o \fI\,OPTIONS\/\fR] [-c \fI\,SMBCONF\/\fR]
.br
.B ksmbd.addshare
[-v] {-d \fI\,SHARE\/\fR} [-c \fI\,SMBCONF\/\fR]
.br
.B ksmbd.addshare
{-V | -h}
.SH DESCRIPTION
\fBksmbd.addshare\fR configures shares for \fBsmb.conf\fP(5ksmbd) configuration file of \fBksmbd.mountd\fP(1) user mode daemon.
\fBksmbd.addshare\fR notifies \fBksmbd.mountd\fR of changes if it had made any.
.SH OPTIONS
.TP
\fB\-a\fR, \fB\-\-add-share\fR=\fI\,SHARE\/\fR
Add \fI\,SHARE\/\fR to configuration file.
\fI\,SHARE\/\fR is 1 to 64 ASCII characters.
\fI\,SHARE\/\fR cannot be \fBglobal\fR.
Initial parameters must be given with \fB\-\-options\fR.
.TP
\fB\-d\fR, \fB\-\-del-share\fR=\fI\,SHARE\/\fR
Delete \fI\,SHARE\/\fR from configuration file.
.TP
\fB\-u\fR, \fB\-\-update-share\fR=\fI\,SHARE\/\fR
Update \fI\,SHARE\/\fR in configuration file.
Updated parameters must be given with \fB\-\-options\fR.
.TP
\fB\-o\fR, \fB\-\-options\fR=\fI\,OPTIONS\/\fR
Use \fI\,OPTIONS\/\fR as share parameters.
\fI\,OPTIONS\/\fR is one argument and has format \fB1st nam = 1st val<newline>2nd nam = 2nd val...\fR.
Separators other than newline create ambiguity.
Global section parameters cannot be given.
.TP
\fB\-c\fR, \fB\-\-config\fR=\fI\,SMBCONF\/\fR
Use \fI\,SMBCONF\/\fR as configuration file instead of \fB@sysconfdir@/ksmbd/smb.conf\fR.
.TP
\fB\-v\fR, \fB\-\-verbose\fR
Be verbose.
.TP
\fB\-V\fR, \fB\-\-version\fR
Output version information and exit.
.TP
\fB\-h\fR, \fB\-\-help\fR
Display this help and exit.
.SH "EXIT STATUS"
The exit status is 0 on success and 1 on failure. Failure to notify \fBksmbd.mountd\fR of changes has no effect on exit status.
.SH COPYRIGHT
Copyright \(co 2015-2022 ksmbd-tools contributors.
License GPLv2: GNU GPL version 2 <https://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html>.
.br
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
.SH "REPORTING BUGS"
For bug reports, use the issue tracker at https://github.com/cifsd-team/ksmbd-tools/issues.
.SH "SEE ALSO"
.TP
\fBConfiguration File\fR
\fBsmb.conf\fP(5ksmbd)
.TP
\fBOther Utilities\fR
\fBksmbd.adduser\fP(1),
\fBksmbd.control\fP(1),
\fBksmbd.mountd\fP(1)
